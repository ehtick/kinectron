{"mappings":"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","sources":["client/tools/stream-tester/js/controllers/debugController.js"],"sourcesContent":["/**\r\n * DebugController\r\n * Handles debug panel, logging, and debug flags\r\n */\r\nclass DebugController {\r\n  constructor() {\r\n    // Cache DOM elements\r\n    this.elements = {\r\n      debugInfo: document.getElementById('debugInfo'),\r\n      debugToggle: document.getElementById('debugToggle'),\r\n      debugPerformance: document.getElementById('debugPerformance'),\r\n      debugData: document.getElementById('debugData'),\r\n      debugPeer: document.getElementById('debugPeer'),\r\n      debugFrames: document.getElementById('debugFrames'),\r\n      debugHandlers: document.getElementById('debugHandlers'),\r\n      debugNetwork: document.getElementById('debugNetwork'),\r\n    };\r\n\r\n    // Bind methods to maintain 'this' context\r\n    this.addDebugInfo = this.addDebugInfo.bind(this);\r\n    this.clearDebugInfo = this.clearDebugInfo.bind(this);\r\n    this.toggleDebug = this.toggleDebug.bind(this);\r\n    this.togglePerformanceDebug =\r\n      this.togglePerformanceDebug.bind(this);\r\n    this.toggleDataDebug = this.toggleDataDebug.bind(this);\r\n    this.togglePeerDebug = this.togglePeerDebug.bind(this);\r\n    this.toggleFramesDebug = this.toggleFramesDebug.bind(this);\r\n    this.toggleHandlersDebug = this.toggleHandlersDebug.bind(this);\r\n    this.toggleNetworkDebug = this.toggleNetworkDebug.bind(this);\r\n\r\n    // Set up event listeners\r\n    this._setupEventListeners();\r\n  }\r\n\r\n  /**\r\n   * Initialize the controller\r\n   * @returns {DebugController} - The initialized controller instance\r\n   */\r\n  static initialize() {\r\n    const controller = new DebugController();\r\n    return controller;\r\n  }\r\n\r\n  /**\r\n   * Set up event listeners for debug controls\r\n   * @private\r\n   */\r\n  _setupEventListeners() {\r\n    // Expose methods to window for button access\r\n    window.clearDebugInfo = this.clearDebugInfo;\r\n    window.toggleDebug = this.toggleDebug;\r\n    window.togglePerformanceDebug = this.togglePerformanceDebug;\r\n    window.toggleDataDebug = this.toggleDataDebug;\r\n    window.togglePeerDebug = this.togglePeerDebug;\r\n    window.toggleFramesDebug = this.toggleFramesDebug;\r\n    window.toggleHandlersDebug = this.toggleHandlersDebug;\r\n    window.toggleNetworkDebug = this.toggleNetworkDebug;\r\n\r\n    // Set initial state - check if any debug flags are enabled\r\n    const anyDebugEnabled = Object.keys(window.DEBUG).some(\r\n      (key) =>\r\n        typeof window.DEBUG[key] === 'boolean' && window.DEBUG[key],\r\n    );\r\n\r\n    if (this.elements.debugToggle) {\r\n      this.elements.debugToggle.checked = anyDebugEnabled;\r\n    }\r\n\r\n    if (this.elements.debugPerformance) {\r\n      this.elements.debugPerformance.checked =\r\n        window.DEBUG.PERFORMANCE;\r\n      this.elements.debugPerformance.disabled = !anyDebugEnabled;\r\n    }\r\n\r\n    if (this.elements.debugData) {\r\n      this.elements.debugData.checked = window.DEBUG.DATA;\r\n      this.elements.debugData.disabled = !anyDebugEnabled;\r\n    }\r\n\r\n    if (this.elements.debugPeer) {\r\n      this.elements.debugPeer.checked = window.DEBUG.PEER;\r\n      this.elements.debugPeer.disabled = !anyDebugEnabled;\r\n    }\r\n\r\n    if (this.elements.debugFrames) {\r\n      this.elements.debugFrames.checked = window.DEBUG.FRAMES;\r\n      this.elements.debugFrames.disabled = !anyDebugEnabled;\r\n    }\r\n\r\n    if (this.elements.debugHandlers) {\r\n      this.elements.debugHandlers.checked = window.DEBUG.HANDLERS;\r\n      this.elements.debugHandlers.disabled = !anyDebugEnabled;\r\n    }\r\n\r\n    if (this.elements.debugNetwork) {\r\n      this.elements.debugNetwork.checked = window.DEBUG.NETWORK;\r\n      this.elements.debugNetwork.disabled = !anyDebugEnabled;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Add a message to the debug info panel\r\n   * @param {string} message - The message to add\r\n   * @param {boolean} isEssential - Whether the message is essential (shown even when debugging is disabled)\r\n   */\r\n  addDebugInfo(message, isEssential = false) {\r\n    // Only log essential messages or when any debugging is enabled\r\n    const anyDebugEnabled = Object.keys(window.DEBUG).some(\r\n      (key) =>\r\n        typeof window.DEBUG[key] === 'boolean' && window.DEBUG[key],\r\n    );\r\n\r\n    if (!isEssential && !anyDebugEnabled) {\r\n      return; // Skip non-essential logs when debugging is disabled\r\n    }\r\n\r\n    if (this.elements.debugInfo) {\r\n      const timestamp = new Date().toLocaleTimeString();\r\n      const entry = document.createElement('div');\r\n      entry.innerHTML = `<strong>${timestamp}</strong>: ${message}`;\r\n      this.elements.debugInfo.appendChild(entry);\r\n\r\n      // Scroll to bottom\r\n      this.elements.debugInfo.scrollTop =\r\n        this.elements.debugInfo.scrollHeight;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Clear the debug info panel\r\n   */\r\n  clearDebugInfo() {\r\n    if (this.elements.debugInfo) {\r\n      this.elements.debugInfo.innerHTML = '';\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Toggle master debug flag\r\n   * @param {boolean} enabled - Whether debug should be enabled\r\n   */\r\n  toggleDebug(enabled) {\r\n    if (enabled) {\r\n      window.DEBUG.enableAll();\r\n    } else {\r\n      window.DEBUG.disableAll();\r\n    }\r\n\r\n    // Update UI elements\r\n    const debugElements = [\r\n      'debugPerformance',\r\n      'debugData',\r\n      'debugPeer',\r\n      'debugFrames',\r\n      'debugHandlers',\r\n      'debugNetwork',\r\n    ];\r\n\r\n    debugElements.forEach((elementId) => {\r\n      const element = this.elements[elementId];\r\n      if (element) {\r\n        element.disabled = !enabled;\r\n        element.checked = enabled;\r\n      }\r\n    });\r\n\r\n    this.addDebugInfo(\r\n      `Debug logging ${enabled ? 'enabled' : 'disabled'}`,\r\n      true,\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Toggle performance debug flag\r\n   * @param {boolean} enabled - Whether performance debugging should be enabled\r\n   */\r\n  togglePerformanceDebug(enabled) {\r\n    window.DEBUG.PERFORMANCE = enabled;\r\n    this.addDebugInfo(\r\n      `Performance logging ${enabled ? 'enabled' : 'disabled'}`,\r\n      true,\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Toggle data debug flag\r\n   * @param {boolean} enabled - Whether data debugging should be enabled\r\n   */\r\n  toggleDataDebug(enabled) {\r\n    window.DEBUG.DATA = enabled;\r\n    this.addDebugInfo(\r\n      `Data integrity logging ${enabled ? 'enabled' : 'disabled'}`,\r\n      true,\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Toggle peer connection debug flag\r\n   * @param {boolean} enabled - Whether peer connection debugging should be enabled\r\n   */\r\n  togglePeerDebug(enabled) {\r\n    window.DEBUG.PEER = enabled;\r\n    this.addDebugInfo(\r\n      `Peer connection logging ${enabled ? 'enabled' : 'disabled'}`,\r\n      true,\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Toggle frames debug flag\r\n   * @param {boolean} enabled - Whether frames debugging should be enabled\r\n   */\r\n  toggleFramesDebug(enabled) {\r\n    window.DEBUG.FRAMES = enabled;\r\n    this.addDebugInfo(\r\n      `Frames logging ${enabled ? 'enabled' : 'disabled'}`,\r\n      true,\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Toggle handlers debug flag\r\n   * @param {boolean} enabled - Whether handlers debugging should be enabled\r\n   */\r\n  toggleHandlersDebug(enabled) {\r\n    window.DEBUG.HANDLERS = enabled;\r\n    this.addDebugInfo(\r\n      `Handlers logging ${enabled ? 'enabled' : 'disabled'}`,\r\n      true,\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Toggle network debug flag\r\n   * @param {boolean} enabled - Whether network debugging should be enabled\r\n   */\r\n  toggleNetworkDebug(enabled) {\r\n    window.DEBUG.NETWORK = enabled;\r\n    this.addDebugInfo(\r\n      `Network logging ${enabled ? 'enabled' : 'disabled'}`,\r\n      true,\r\n    );\r\n  }\r\n}\r\n"],"names":[],"version":3,"file":"stream-tester.c92a0a2f.js.map","sourceRoot":"/__parcel_source_root/"}